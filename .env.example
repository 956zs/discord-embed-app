# ============================================================================
# Discord Stats App - Root Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# Or run ./setup-env.sh for guided setup
# ============================================================================

# Discord Configuration
DISCORD_CLIENT_ID=your_client_id_here
DISCORD_CLIENT_SECRET=your_client_secret_here
DISCORD_BOT_TOKEN=your_bot_token_here

# Server Configuration
PORT=3008
CLIENT_PORT=3000

# Whitelist - Only allow these servers to use stats features
# Multiple servers separated by commas, e.g.: 123456789012345678,987654321098765432
# Leave empty to allow all servers (not recommended for production)
ALLOWED_GUILD_IDS=

# Environment Mode
NODE_ENV=development

# ============================================================================
# Process Mode Configuration
# ============================================================================

# Process mode: dual (recommended) or single
# dual   - Run as two separate PM2 processes (discord-server + discord-client)
#          Better fault isolation, independent scaling, easier debugging
#          Memory usage: ~350-550MB
# single - Run as one PM2 process (discord-app)
#          Lower memory usage, simpler deployment
#          Memory usage: ~300-450MB
PROCESS_MODE=dual

# Single process mode port (only used when PROCESS_MODE=single)
# This should match your PORT value
SINGLE_PROCESS_PORT=3008

# ============================================================================
# Monitoring Configuration (Optional)
# ============================================================================

# Enable performance monitoring system
ENABLE_MONITORING=false

# Metrics collection interval (milliseconds)
METRICS_INTERVAL=30000

# Metrics retention period (hours)
METRICS_RETENTION_HOURS=24

# Alert thresholds
ALERT_CPU_WARN=80
ALERT_CPU_ERROR=90
ALERT_MEMORY_WARN=80
ALERT_MEMORY_ERROR=90

# Admin token for accessing monitoring endpoints
# Generate a secure random token for production
ADMIN_TOKEN=

# ============================================================================
# Webhook Notification Configuration (Optional)
# ============================================================================

# Enable webhook notifications for ERROR level alerts
WEBHOOK_ENABLED=false

# Discord Webhook URLs (comma-separated for multiple webhooks)
# Get webhook URL from Discord: Server Settings > Integrations > Webhooks
# Example: https://discord.com/api/webhooks/123456789/abcdefghijklmnop
WEBHOOK_URLS=
