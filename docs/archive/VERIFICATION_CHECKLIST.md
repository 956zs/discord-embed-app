# 專案整理驗證清單

使用此清單驗證所有改進是否正確應用。

## ✅ 配置文件檢查

### 1. client/next.config.ts

- [ ] 使用 `NEXT_PUBLIC_DISCORD_CLIENT_ID`
- [ ] 使用 `NEXT_PUBLIC_API_URL`
- [ ] 沒有硬編碼的 Discord URL
- [ ] 沒有硬編碼的 localhost:3008

### 2. ecosystem.config.js

- [ ] 載入 dotenv
- [ ] 使用 `process.env.PORT`
- [ ] 使用 `process.env.CLIENT_PORT`
- [ ] 沒有硬編碼端口

### 3. setup-env.sh

- [ ] 文件存在且可執行
- [ ] 使用 placeholder + sed 方式
- [ ] 不直接寫入中文到 .env
- [ ] heredoc 使用引號（'ENVEOF'）

## ✅ 環境變數文件檢查

### 1. .env.example

- [ ] 文件存在
- [ ] 包含所有必要變數
- [ ] 註釋使用英文
- [ ] 格式清晰一致

### 2. bot/.env.example

- [ ] 文件存在
- [ ] 包含資料庫配置
- [ ] 註釋使用英文
- [ ] 格式與 root .env.example 一致

### 3. client/.env.example

- [ ] 文件存在
- [ ] 包含所有 NEXT_PUBLIC_ 變數
- [ ] 包含開發模式配置
- [ ] 註釋清晰

## ✅ 文檔檢查

### 1. 新增文檔

- [ ] `docs/ENVIRONMENT_VARIABLES.md` 存在
- [ ] `QUICK_REFERENCE.md` 存在
- [ ] `PROJECT_CLEANUP_SUMMARY.md` 存在
- [ ] `cleanup-project.sh` 存在且可執行
- [ ] `CLEANUP_COMPLETE.md` 存在

### 2. README.md 更新

- [ ] 包含快速參考鏈接
- [ ] 包含環境變數指南鏈接
- [ ] 包含專案清理摘要鏈接
- [ ] 更新版本號到 v2.2.0

## ✅ 腳本檢查

### 1. 所有腳本可執行

- [ ] `setup-env.sh` 可執行
- [ ] `cleanup-project.sh` 可執行
- [ ] `deploy.sh` 可執行
- [ ] `manage.sh` 可執行
- [ ] `update.sh` 可執行

### 2. 腳本語法正確

- [ ] 所有腳本語法正確
- [ ] 沒有語法錯誤

## ✅ 功能測試

### 1. 配置生成測試

- [ ] setup-env.sh 可以正常執行
- [ ] 生成所有必要的 .env 文件
- [ ] 生成的文件沒有編碼問題
- [ ] 生成的文件格式正確

### 2. TypeScript 編譯測試

- [ ] next.config.ts 無 TypeScript 錯誤
- [ ] 可以正常編譯

### 3. Node.js 語法測試

- [ ] ecosystem.config.js 無語法錯誤
- [ ] 可以正常載入

### 4. 環境變數載入測試

- [ ] dotenv 可以正常載入
- [ ] 環境變數正確讀取

## ✅ 整合測試

### 1. 開發環境測試

- [ ] 開發服務器可以啟動
- [ ] API 服務正常響應
- [ ] Client 服務正常響應
- [ ] 沒有環境變數相關錯誤

### 2. 生產構建測試

- [ ] 前端可以正常構建
- [ ] 沒有環境變數相關錯誤
- [ ] 構建輸出正確

### 3. PM2 配置測試

- [ ] PM2 配置文件格式正確
- [ ] 可以正常解析

## ✅ 文檔完整性檢查

### 1. 環境變數文檔

- [ ] 包含所有環境變數說明
- [ ] 包含開發和生產環境示例
- [ ] 包含故障排除指南
- [ ] 包含安全最佳實踐
- [ ] 包含獲取 Discord 憑證的步驟

### 2. 快速參考

- [ ] 包含常用命令
- [ ] 包含環境變數速查表
- [ ] 包含故障排除快速指南
- [ ] 包含專案結構說明

### 3. 專案清理摘要

- [ ] 詳細說明所有變更
- [ ] 包含遷移指南
- [ ] 包含技術細節
- [ ] 包含測試驗證步驟

## ✅ Git 檢查

### 1. .gitignore 檢查

- [ ] .env 在 .gitignore 中
- [ ] bot/.env 在 .gitignore 中
- [ ] client/.env.local 在 .gitignore 中

### 2. 變更檢查

- [ ] 確認所有變更符合預期
- [ ] 沒有意外的文件變更
- [ ] 沒有敏感信息洩露

## ✅ 最終驗證

### 完整流程測試

1. **新用戶流程：**
   - [ ] 配置工具正常工作
   - [ ] 部署腳本正常工作
   - [ ] 服務正常啟動

2. **現有用戶流程：**
   - [ ] 配置保持有效
   - [ ] 服務正常重啟
   - [ ] 沒有功能損壞

## 📋 總結

完成上述所有檢查項後：

- [ ] 所有配置文件使用環境變數
- [ ] 沒有硬編碼值
- [ ] setup-env.sh 無編碼問題
- [ ] 所有文檔完整且正確
- [ ] 所有腳本可執行且語法正確
- [ ] 功能測試通過
- [ ] 整合測試通過
- [ ] Git 配置正確

**如果所有項目都已勾選，專案整理驗證完成！** ✅

---

**驗證日期：** _____________
**驗證人：** _____________
**備註：** _____________
